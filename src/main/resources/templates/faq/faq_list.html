 
  <html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{shared/layout}">

<body>
<div layout:fragment="content">

    <style>
        :root {
    --white-background: #FFFFFF;  /* 전체 배경 흰색 */
    --tan-medium: #D6A77A;        /* 포인트/버튼색 */
    --tan-dark: #B58B63;          /* hover */
    --tan-text: #5C4A3A;          /* 기본 텍스트 */
    --tan-border: #E6CCB2;        /* 경계선 */
}

body {
    background-color: var(--white-background); /* ✅ 배경 흰색 */
    color: var(--tan-text); /* ✅ 전체 텍스트 탄색 */
}

/* ✅ 카테고리 제목 */
.page-header {
    margin-bottom: 20px;
    text-align: center;
    color: var(--tan-text);
    font-size: 25px;
    font-weight: bold;
}

/* ✅ 메뉴 링크 */
.menu-links {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-bottom: 25px;
}

.menu-links a {
    text-decoration: none;
    color: var(--tan-text);
    font-size: 20px;
    font-weight: 600;
    padding-bottom: 5px;
    border-bottom: 2px solid transparent;
    transition: border-color 0.3s, color 0.3s;
}

.menu-links a:hover {
    border-bottom: 2px solid var(--tan-medium);
    color: var(--tan-medium);
}

/* ✅ 검색창 */
.search-container {
    display: flex;
    justify-content: flex-end;
    margin: 20px auto;
    width: 80%;
}

.search-form {
    display: flex;
    width: 400px;
}

.search-form input {
    flex-grow: 1;
    padding: 10px;
    border: 1px solid var(--tan-medium);
    border-radius: 5px 0 0 5px;
    font-size: 16px;
    color: var(--tan-text); /* 입력 텍스트 탄색 */
}

.search-form input::placeholder {
    color: var(--tan-text);
    opacity: 0.6;
}

.search-form button {
    padding: 10px 18px;
    border: 1px solid var(--tan-medium);
    border-left: none;
    border-radius: 0 5px 5px 0;
    background-color: var(--tan-medium);
    color: white;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
}

.search-form button:hover {
    background-color: var(--tan-dark);
}

/* ✅ FAQ */
.faq-container {
    width: 80%;
    margin: 0 auto;
    border-top: 2px solid var(--tan-medium);
}

.faq-item {
    border-bottom: 1px solid var(--tan-border);
}

.faq-question {
    padding: 15px;
    cursor: pointer;
    background-color: var(--white-background); /* ✅ 질문 배경 흰색 */
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: var(--tan-text);
    font-size: 20px;
    font-weight: 600;
}

.faq-answer {
    padding: 15px;
    background-color: var(--white-background); /* ✅ 답변 배경 흰색 */
    color: var(--tan-text);
    display: none;
}

.faq-answer.show {
    display: block;
}

/* ✅ 페이지네이션 */
.pagination {
    justify-content: center;
    margin-top: 20px;
}

.page-item {
    list-style: none;
}

.page-link {
    display: block;
    padding: 8px 16px;
    text-decoration: none;
    color: var(--tan-text);
    background-color: var(--white-background);
    border: 1px solid var(--tan-medium);
    margin: 0 4px;
    border-radius: 5px;
    transition: background-color 0.3s;
}

.page-link:hover {
    background-color: var(--tan-medium);
    color: white;
}

.page-item.active .page-link {
    background-color: var(--tan-medium);
    border-color: var(--tan-medium);
    color: white;
}

.page-item.disabled .page-link {
    color: #A99380;
    pointer-events: none;
    background-color: var(--white-background);
    border-color: var(--tan-border);
}
    </style>

    <!-- ✅ 카테고리 제목 -->
    <div class="page-header" style="font-family: 'BagelFat', sans-serif; font-size: 80px; color: #CD853F;">
        고객센터
    </div>

    <!-- ✅ 메뉴 -->
    <div class="menu-links">
        <a th:href="@{/chat}">1:1 채팅 상담하기</a>
        <a th:href="@{/faq/ask}">질문하기</a>
    </div>

    <!-- ✅ 검색창 (FAQ 바로 위로 이동, 오른쪽 정렬) -->
    <div class="search-container">
        <form th:action="@{/faq/list}" method="get" class="search-form">
            <input type="text" name="keyword" th:value="${keyword}" placeholder="검색어를 입력하세요">
            <button type="submit">검색</button>
        </form>
    </div>

    <!-- ✅ FAQ -->
    <div class="faq-container">
        <div class="faq-item" th:each="faq : ${paging}">
            <div class="faq-question">
                <b>질문: <span th:text="${faq.question}"></span></b>
                <span>▶</span>
            </div>
            <div class="faq-answer">
                <div th:if="${faq.answer == '답변 대기 중'}">
                    <p><b>답변:</b> <span th:text="${faq.answer}"></span></p>
                    <a th:if="${isAdmin}" th:href="@{|/faq/answer/${faq.faqSeq}|}">답변하기</a>
                </div>
                <div th:unless="${faq.answer == '답변 대기 중'}">
                    <p><b>답변:</b> <span th:text="${faq.answer}"></span></p>
                </div>
            </div>
        </div>
    </div>

    <!-- ✅ 페이지네이션 -->
    <div th:if="${!paging.isEmpty()}">
        <ul class="pagination justify-content-center">
            <li class="page-item" th:classappend="${!paging.hasPrevious()} ? 'disabled'">
                <a class="page-link"
                   th:href="@{|/faq/list?page=${paging.number-1}${keyword != null && !keyword.isEmpty() ? '&keyword=' + keyword : ''}|}">이전</a>
            </li>

            <li th:each="page : ${#numbers.sequence(0, paging.totalPages-1)}"
                th:if="${page >= paging.number-5 and page <= paging.number+5}"
                th:classappend="${page == paging.number} ? 'active'" class="page-item">
                <a th:text="${page+1}" class="page-link"
                   th:href="@{|/faq/list?page=${page}${keyword != null && !keyword.isEmpty() ? '&keyword=' + keyword : ''}|}"></a>
            </li>

            <li class="page-item" th:classappend="${!paging.hasNext()} ? 'disabled'">
                <a class="page-link"
                   th:href="@{|/faq/list?page=${paging.number+1}${keyword != null && !keyword.isEmpty() ? '&keyword=' + keyword : ''}|}">다음</a>
            </li>
        </ul>
    </div>

    <script th:inline="javascript">
        document.querySelectorAll('.faq-question').forEach(item => {
            item.addEventListener('click', () => {
                const answer = item.nextElementSibling;
                answer.classList.toggle('show');
            });
        });
    </script>
</div>
</body>
</html>
  