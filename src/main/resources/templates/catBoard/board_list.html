<!-- 

<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container my-3">
<head>
    <meta charset="UTF-8">
    <title>게시글 목록</title>
</head>
<body>
<center>
<h1>게시글 목록</h1>


<span th:switch="${boardCode}">
    <a th:href="@{/post/list(boardCode='1')}">수의사에게 질문하기</a> |
    <a th:href="@{/post/list(boardCode='2')}">냥꿀팁</a>
</span>
</center>

<table class="table">
    <thead class="table-danger">
        <tr>
            <th>번호</th>
            <th>제목</th>
            <th>작성자</th>
            <th>작성일자</th>
        </tr>
    </thead>
    <tbody>
        <tr th:each="post : ${posts.content}">
            <td th:text="${post.postSeq}"></td>
            <td>
                <a th:href="@{/post/detail/{seq}(seq=${post.postSeq})}">
                    [[${post.postTitle}]]
                </a>
            </td>
            <td th:text="${post.user != null ? post.user.nickname : '익명'}"></td>
            <td th:text="${post.createDate != null ? #temporals.format(post.createDate, 'yyyy-MM-dd HH:mm') : ''}"></td>
        </tr>
    </tbody>
</table>


<div>
    <span th:if="${posts.hasPrevious()}">
        <a th:href="@{/post/list(boardCode=${boardCode}, page=${posts.number - 1})}">이전</a>
    </span>
    <span th:text="${posts.number + 1}"></span> / <span th:text="${posts.totalPages}"></span>
    <span th:if="${posts.hasNext()}">
        <a th:href="@{/post/list(boardCode=${boardCode}, page=${posts.number + 1})}">다음</a>
    </span>
</div>


<div>
    <a th:href="@{/post/create(boardCode=${boardCode})}" class="btn btn-warning">글쓰기</a>
</div>

</body>
</div>
</html>

 -->
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container my-3">

	<div class="container my-3">
		<table class="table">
			<thead class="table-danger">
				<!-- 번호/제목/작성일자 -->
				<tr>
					<th>번호</th>
					<th>제목</th>
					
					<th>작성일자</th>

				</tr>
			</thead>

			<!-- 데이터들 -->
			<tbody>
				<tr th:each="post,loop: ${paging}">
					<td
						th:text="${paging.getTotalElements-(paging.number*paging.size)-loop.index}"></td>
					<td><a th:href="@{|/post/detail/${post.postSeq}|}"
						th:text="${post.postTitle}"></a> <span
						class="text-danger small ms-2"
						th:if="${#lists.size(post.knowledgeCommentList)>0}"
						th:text="${#lists.size(post.knowledgeCommentList)}"></span></td>

					<!-- 작성자 나타내기 -->
					<!--  
					<td><span th:if="${post.author != null}"
						th:text="${question.author.username}"></span></td>
						-->

					<td
						th:text="${#temporals.format(question.createDate, 'yyyy-MM-dd HH:mm')}"></td>
						
						
				</tr>
			</tbody>
		</table>



		<!-- 페이징 처리 시작 -->

		<div th:if="${!paging.isEmpty()}">
			<ul class="pagination justify-content-center">
				<li class="page-item"
					th:classappend="${!paging.hasPrevious} ? disabled"><a
					class="page-link" th:href="@{|?page=${paging.number-1}|}"> <span>이전</span>
				</a>
				<li th:each="page : ${#numbers.sequence(0,paging.totalPages-1)}"
					th:if="${page>=paging.number-5 and page<=paging.number+5}"
					th:classappend="${page==paging.number} ? 'active'"
					class="page-item"><a th:text=${page} class="page-link"
					th:href="@{|?page=${page}|}"></a>
				<li class="page-item" th:classappend="${!paging.hasNext} ? disabled"><a
					class="page-link" th:href="@{|?page=${paging.number+1}|}"> <span>다음</span>
				</a>
			</ul>
		</div>


		<!-- 버튼 -->
		<a th:href="@{/post/create}" class="btn btn-warning">질문 등록하기</a>



	</div>
</div>
</html>

 