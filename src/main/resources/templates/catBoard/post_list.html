<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{shared/layout}">
   
<body>
    <div layout:fragment="content">
        <style>
            /* 따뜻한 탄(tan) 색상 팔레트 */
            :root {
                --tan-lightest: #F5F5DC;  /* 배경색 (원래 배경색과 조화) */
                --tan-lighter: #E6D2B5;   /* 보조 배경, 호버 등 */
                --tan-medium: #C3997A;    /* 주요 요소 (버튼, 구분선) */
                --tan-darker: #7E5F4D;    /* 텍스트, 아이콘 */
                --tan-darkest: #4C3C30;   /* 제목, 진한 텍스트 */
                --white: #FFFFFF;
                --light-gray: #E0E0E0;
            }

            body {
                /* 배경색은 건드리지 않음 */
               /*  color: var(--tan-darker); */
            }

            /* 컨테이너 수정: 게시판 최대 너비 1250px로 확장 */
            .board-container {
                max-width: 1300px; /* 게시판 너비 확장 */
                margin: 0 auto;
                padding: 20px;
            }

            h5 {
                color: var(--tan-darkest);
                font-size: 20px;
                border-color: var(--light-gray) !important;
            }

            /* --- 기존 버튼 스타일은 '질문 등록' 버튼을 위해 유지 --- */
            .btn {
                background-color: var(--tan-lighter);
                border-color: var(--tan-lighter);
                transition: background-color 0.3s, color 0.3s;
            }
            
            .btn:hover {
                background-color: var(--tan-medium);
                border-color: var(--tan-medium);
                color: var(--white);
            }

            .btn-primary.active, .btn-secondary.active {
                background-color: var(--tan-medium) !important;
                border-color: var(--tan-medium) !important;
                color: var(--white) !important;
            }
            
            .btn-secondary {
                background-color: var(--tan-lighter);
                border-color: var(--tan-lighter);
                color: var(--tan-darkest);
            }
            
            .btn-warning {
                background-color: var(--tan-medium);
                border-color: var(--tan-medium);
                color: var(--white);
            }
            
            .btn-warning:hover {
                background-color: var(--tan-darker);
                border-color: var(--tan-darker);
            }
            /* ------------------------------------------------ */


            /* --- 카테고리/탭 링크 스타일 --- */
            .board-selection-links {
                display: flex;
                justify-content: center;
                gap: 40px; /* 링크 간격 */
                margin-top: 20px;
            }

            .board-selection-links a {
                text-decoration: none;
                color: var(--tan-darker); 
                font-size: 25px; 
                font-weight: 600;
                padding: 5px 0; 
                border-bottom: 2px solid transparent;
                transition: border-bottom 0.3s, color 0.3s;
                white-space: nowrap;
            }

            .board-selection-links a:hover {
                color: var(--tan-darkest);
                border-bottom-color: var(--tan-medium);
            }

            /* 현재 선택된 보드 (active) 스타일 */
            .board-selection-links a.active-board {
                color: var(--tan-darkest);
                border-bottom-color: var(--tan-darkest); /* 진한 밑줄로 강조 */
            }
            
            /* 활성화된 링크에 마우스를 올렸을 때도 활성 스타일 유지 */
            .board-selection-links a.active-board:hover {
                color: var(--tan-darkest);
                border-bottom-color: var(--tan-darkest); 
            }
            /* ------------------------------------------------ */

            .table {
                --bs-table-bg: none; /* 부트스트랩 배경색 제거 */
            }

            .table thead {
                background-color: var(--tan-medium);
                color: var(--white);
            }

            .table thead th {
                border-color: var(--tan-medium);
            }

            .table tbody tr:hover {
                background-color: var(--tan-lighter);
            }
            
            /* --- 테이블 컬럼 너비 및 정렬 조정 (추가된 부분) --- */
            .table thead th:nth-child(1),
            .table tbody td:nth-child(1) {
                width: 8%; /* 번호 */
                text-align: center; 
            }

            .table thead th:nth-child(3),
            .table tbody td:nth-child(3) {
                width: 15%; /* 작성자 */
                text-align: center;
            }

            .table thead th:nth-child(4),
            .table tbody td:nth-child(4) {
                width: 17%; /* 작성일자 */
                text-align: center;
            }
            /* 제목 컬럼(2번째)은 남은 60%를 자동으로 차지합니다. */
            /* ------------------------------------------------ */


            .page-link {
                background-color: var(--white);
                border-color: var(--light-gray);
                color: var(--tan-darker);
                transition: background-color 0.3s;
            }
            
            .page-link:hover {
                background-color: var(--tan-lighter);
                border-color: var(--tan-medium);
            }

            .pagination .page-item.active .page-link {
                background-color: var(--tan-medium);
                border-color: var(--tan-medium);
                color: var(--white);
            }
            
            .pagination .page-item.disabled .page-link {
                background-color: var(--tan-lighter);
                color: var(--tan-darker);
            }

            a {
                color: var(--tan-darker);
                text-decoration: none;
            }
            
            a:hover {
                color: var(--tan-darkest);
            }

            td a {
                color: var(--tan-darker);
            }
        </style>

        <div class="board-container">
            <center>
<!--                 <h5 class="my-3 border-bottom pb-2" th:text="'고양이 지식방 - ' + ${boardName}" style="font-family: 'BagelFat', sans-serif; font-size: 60px; color: #CD853F;"></h5>
 -->
                <div class="board-selection-links mb-3">
                    <a th:href="@{/post/list/1}"
                       th:classappend="${boardSeq} == 1 ? ' active-board' : ''">수의사에게 질문하기</a>
                    <a th:href="@{/post/list/2}"
                       th:classappend="${boardSeq} == 2 ? ' active-board' : ''">냥꿀팁</a>
                </div>

                <th:block th:if="${paging.isEmpty()}">
                    <p>게시글이 없습니다.</p>
                </th:block>

                <table class="table mt-3" style="font-size:20px;">
                    <thead>
                    <tr>
                        <th>번호</th>
                        <th>제목</th>
                        <th>작성자</th>
                        <th>작성일자</th>
                    </tr>
                    </thead>
                    
                    <tbody>
                    <tr th:each="post, loop : ${paging.content}">
                        <td th:text="${paging.totalElements - (paging.number * paging.size) - loop.index}"></td>
                        <td>
                            <a th:href="@{|/post/detail/${post.postSeq}|}" th:text="${post.postTitle}"></a>
                            <span th:if="${post.knowledgeCommentList != null and #lists.size(post.knowledgeCommentList) > 0}" 
                                  th:text="${#lists.size(post.knowledgeCommentList)}" style="color: var(--tan-medium); font-weight: bold; margin-left: 5px;"></span>
                        </td>
                        <td><span th:if="${post.user != null}" th:text="${post.user.userName}"></span></td>
                        <td th:text="${#temporals.format(post.createDate, 'yyyy-MM-dd HH:mm')}"></td>
                    </tr>
                    </tbody>
                </table>

                <div th:if="${!paging.isEmpty()}">
                    <ul class="pagination justify-content-center">
                        <li class="page-item" th:classappend="${!paging.hasPrevious()} ? 'disabled'">
                            <a class="page-link"
                               th:href="@{|?boardSeq=${currentBoardSeq}&page=${paging.number-1}|}">이전</a>
                        </li>
                        <li th:each="page : ${#numbers.sequence(0, paging.totalPages-1)}"
                            th:if="${page >= paging.number-5 and page <= paging.number+5}"
                            th:classappend="${page == paging.number} ? 'active'" class="page-item">
                            <a th:text="${page+1}" class="page-link"
                               th:href="@{|?boardSeq=${currentBoardSeq}&page=${page}|}"></a>
                        </li>
                        <li class="page-item" th:classappend="${!paging.hasNext()} ? 'disabled'">
                            <a class="page-link"
                               th:href="@{|?boardSeq=${currentBoardSeq}&page=${paging.number+1}|}">다음</a>
                        </li>
                    </ul>
                </div>

                <a th:href="@{|/post/create/${boardCode}|}" class="btn btn-fatcat" style="font-size:20px;">질문 등록</a>
            </center>
        </div>
    </div>
</body>
</html>

   
   
   
   